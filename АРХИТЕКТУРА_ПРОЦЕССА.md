# Sales Scout - ะะพะปะฝะฐั ัะตะฟะพัะบะฐ ัะฐะฑะพัั ะฟัะพัะตััะฐ

## ๐ ะะฒะฐ ัะฟะพัะพะฑะฐ ะทะฐะฟััะบะฐ

### ะกะฟะพัะพะฑ 1: ะงะฐั-ะฑะพั ะฒ ะะธััะธะบั24
### ะกะฟะพัะพะฑ 2: Webhook ะธะท ะฐะฒัะพะผะฐัะธะทะฐัะธะธ

---

## ๐จ ะกะะะกะะ 1: ะงะฐั-ะฑะพั

### ะจะฐะณ 1: ะะพะปัะทะพะฒะฐัะตะปั ะฟะธัะตั ะฑะพัั

**ะะตััะพะฟะพะปะพะถะตะฝะธะต:** ะงะฐั ั ะฑะพัะพะผ ะฒ ะะธััะธะบั24 (dizlabvl.bitrix24.ru)

**ะัะธะผะตั ัะพะพะฑัะตะฝะธั:**
- `ะฏะฝะดะตะบั`
- `7707083893`
- `Idol face`

### ะจะฐะณ 2: ะะธััะธะบั24 ะพัะฟัะฐะฒะปัะตั webhook

**ะัะบัะดะฐ:** ะะธััะธะบั24 (dizlabvl.bitrix24.ru)
**ะัะดะฐ:** `http://aistudy.dev.o2it.ru:8100/webhook/bitrix`
**ะะตัะพะด:** POST
**ะคะพัะผะฐั:** application/x-www-form-urlencoded

**ะะฐะฝะฝัะต:**
```
event=ONIMBOTMESSAGEADD
data[PARAMS][MESSAGE]=ะฏะฝะดะตะบั
data[PARAMS][DIALOG_ID]=10
data[PARAMS][AUTHOR_ID]=314
auth[application_token]=gdu4ys9vl8fgps1qrauo8b6xjhtxo5jv
```

**ะคะฐะนะป ะพะฑัะฐะฑะพัะบะธ:** `app/main.py` โ ััะฝะบัะธั `bitrix_webhook()`

### ะจะฐะณ 3: ะะฐััะธะฝะณ ะดะฐะฝะฝัั ะพั ะะธััะธะบั24

**ะคะฐะนะป:** `app/main.py` (ัััะพะบะธ 110-130)

**ะงัะพ ะฟัะพะธััะพะดะธั:**
1. ะะพะปััะฐะตะผ form-data ะพั ะะธััะธะบั24
2. ะะทะฒะปะตะบะฐะตะผ:
   - `event` = "ONIMBOTMESSAGEADD"
   - `message` = ัะตะบัั ะพั ะฟะพะปัะทะพะฒะฐัะตะปั ("ะฏะฝะดะตะบั")
   - `dialog_id` = ID ัะฐัะฐ (10)
   - `author_id` = ID ะฟะพะปัะทะพะฒะฐัะตะปั (314)
3. ะัะตะพะฑัะฐะทัะตะผ ะฒ ะฝะพัะผะฐะปัะฝัั ััััะบัััั
4. ะะตัะตะดะฐะตะผ ะฒ ัะพะฝะพะฒัั ะทะฐะดะฐัั `handle_bitrix_message()`

**ะะพะด:**
```python
data = {
    "event": "ONIMBOTMESSAGEADD",
    "data": {
        "MESSAGE": {
            "text": "ะฏะฝะดะตะบั",
            "chat_id": "10",
            "author_id": "314"
        }
    }
}
background_tasks.add_task(handle_bitrix_message, data)
```

### ะจะฐะณ 4: ะััััะฐั ะพัะฑะธะฒะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปั

**ะคะฐะนะป:** `app/webhooks/bitrix_handler.py` โ ััะฝะบัะธั `handle_bitrix_message()` (ัััะพะบะฐ ~85)

**ะงัะพ ะฟัะพะธััะพะดะธั:**
1. ะะทะฒะปะตะบะฐะตะผ ัะตะบัั ัะพะพะฑัะตะฝะธั
2. **ะะะะะะขะะะฌะะ ะพัะฟัะฐะฒะปัะตะผ ะพัะฒะตั:**
   ```
   โ ะะฐะฟัะพั ะฟะพะปััะตะฝ! ะคะพัะผะธััั ะดะตัะฐะปัะฝะพะต ะดะพััะต ะบะพะผะฟะฐะฝะธะธ.
   โฑ๏ธ ะญัะพ ะทะฐะนะผะตั 1-3 ะผะธะฝััั, ะฒะตัะฝััั ั ัะตะทัะปััะฐัะฐะผะธ...
   ```
3. ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั ะฟะพะดัะฒะตัะถะดะตะฝะธะต ะทะฐ 0.2 ัะตะบัะฝะดั

**ะะพะด:**
```python
bitrix_service.send_message(
    dialog_id,
    "โ ะะฐะฟัะพั ะฟะพะปััะตะฝ! ะคะพัะผะธััั ะดะตัะฐะปัะฝะพะต ะดะพััะต..."
)
```

### ะจะฐะณ 5: ะะฟัะตะดะตะปะตะฝะธะต ัะธะฟะฐ ะทะฐะฟัะพัะฐ

**ะคะฐะนะป:** `app/webhooks/bitrix_handler.py` (ัััะพะบะธ 100-120)

**ะัะพะฒะตััะตััั:**
1. ะญัะพ ะะะ? (10 ะธะปะธ 12 ัะธัั) โ `inn = "7707083893"`
2. ะญัะพ ะฝะฐะทะฒะฐะฝะธะต? โ `company_name = "ะฏะฝะดะตะบั"`
3. ะญัะพ ะบะพะผะฐะฝะดะฐ ะบะฝะพะฟะบะธ? (positive/negative/feedback)

**ะะตะทัะปััะฐั:** ะะฟัะตะดะตะปัะตะผ `inn` ะธะปะธ `company_name`

---

## ๐ ะญะขะะ ะกะะะะ ะะะะะซะฅ

### ะจะฐะณ 6: ะกะพะทะดะฐะฝะธะต ะดะพััะต

**ะคะฐะนะป:** `app/services/sales_analyzer.py` โ `create_company_dossier()`

**ะัะพะดะฝัะต ะดะฐะฝะฝัะต:**
- `inn = "7707083893"` ะะะ
- `company_name = "ะฏะฝะดะตะบั"`

---

### ะะพะดััะฐะฟ 6.1: ะะพะธัะบ ะบะพะผะฟะฐะฝะธะธ ัะตัะตะท Perplexity

**ะคะฐะนะป:** `app/services/perplexity.py` โ `find_company_with_inn()`
**ะัะตะผั:** 3-7 ัะตะบัะฝะด

**ะงัะพ ะดะตะปะฐะตั:**
1. ะัะฟัะฐะฒะปัะตั ะทะฐะฟัะพั ะบ Perplexity (ัะตัะตะท OpenRouter):
   ```
   ะะฐะนะดะธ ะะะกะกะะะกะะฃะฎ ะบะพะผะฟะฐะฝะธั: "ะฏะฝะดะตะบั"
   ะะตัะฝะธ JSON ั ะฝะฐะทะฒะฐะฝะธะตะผ, ะะะ, ะพะฟะธัะฐะฝะธะตะผ
   ```

2. **API ะทะฐะฟัะพั:**
   ```python
   POST https://openrouter.ai/api/v1/chat/completions
   {
       "model": "perplexity/sonar-pro",
       "messages": [{"role": "user", "content": "ะะฐะนะดะธ ะบะพะผะฟะฐะฝะธั ะฏะฝะดะตะบั..."}]
   }
   ```

3. **ะะตะทัะปััะฐั:**
   ```json
   {
       "found": true,
       "variants": [{
           "name": "ะะะ ะฏะะะะะก",
           "short_name": "ะฏะฝะดะตะบั",
           "inn": "7707083893",
           "description": "ะขะตัะฝะพะปะพะณะธัะตัะบะฐั ะบะพะผะฟะฐะฝะธั..."
       }]
   }
   ```

**ะะพะณะธ:** `Perplexity ะฝะฐัะตะป: ะฏะฝะดะตะบั, ะะะ: 7707083893`

---

### ะะพะดััะฐะฟ 6.2: ะะฑะพะณะฐัะตะฝะธะต ะดะฐะฝะฝัะผะธ ะธะท ะะะะฎะ

**ะคะฐะนะป:** `app/services/dadata.py` โ `find_company_by_inn()`
**ะัะตะผั:** 0.1-0.5 ัะตะบัะฝะด

**ะงัะพ ะดะตะปะฐะตั:**
1. ะะฐะฟัะพั ะบ DaData API:
   ```python
   POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party
   {
       "query": "7707083893"
   }
   ```

2. **ะะพะปััะฐะตั:**
   - ะะพะปะฝะพะต ะพัะธัะธะฐะปัะฝะพะต ะฝะฐะทะฒะฐะฝะธะต
   - ะฎัะธะดะธัะตัะบะธะน ะฐะดัะตั
   - ะะตะฝะตัะฐะปัะฝัะน ะดะธัะตะบัะพั
   - ะะฐัะฐ ัะตะณะธัััะฐัะธะธ
   - ะกัะฐััั (ะดะตะนััะฒัััะฐั/ะปะธะบะฒะธะดะธัะพะฒะฐะฝะฐ)
   - ะะะะญะ

**ะะตะทัะปััะฐั:**
```python
{
    "full_name": "ะะะฉะะกะขะะ ะก ะะะะะะะงะะะะะ ะะขะะะขะกะขะะะะะะกะขะฌะฎ \"ะฏะะะะะก\"",
    "short_name": "ะะะ ะฏะะะะะก",
    "inn": "7707083893",
    "director": {"name": "ะัะฑะพะฒัะบะธะน ะะปะตะบัะฐะฝะดั ะะปะตะบัะฐะฝะดัะพะฒะธั"},
    "address": {"full": "ะณ ะะพัะบะฒะฐ, ัะป ะัะฒะฐ ะขะพะปััะพะณะพ, ะด 16"},
    "status": "ACTIVE"
}
```

**ะะพะณะธ:** `DaData ะฟะพะดัะฒะตัะดะธะป: ะะะ ะฏะะะะะก`

---

### ะะพะดััะฐะฟ 6.3: ะะพะธัะบ ะพะฝะปะฐะนะฝ-ะฟัะธัััััะฒะธั

**ะคะฐะนะป:** `app/services/perplexity.py` โ `find_online_presence()`
**ะัะตะผั:** 3-5 ัะตะบัะฝะด

**ะงัะพ ะดะตะปะฐะตั:**
1. ะะฐะฟัะพั ะบ Perplexity:
   ```
   ะะฐะนะดะธ ะพะฝะปะฐะนะฝ-ะฟัะธัััััะฒะธะต ะบะพะผะฟะฐะฝะธะธ "ะฏะฝะดะตะบั" (ะะะ: 7707083893):
   - ะัะธัะธะฐะปัะฝัะน ัะฐะนั
   - VK ัััะฐะฝะธัั
   - Telegram ะบะฐะฝะฐะป
   - YouTube ะบะฐะฝะฐะป
   ```

2. **API ะทะฐะฟัะพั ัะตัะตะท OpenRouter**

3. **ะะตะทัะปััะฐั:**
   ```json
   {
       "website": "https://yandex.ru",
       "vk": "https://vk.com/yandex",
       "telegram": "https://t.me/yandex",
       "youtube": "https://youtube.com/@yandex"
   }
   ```

**ะะพะณะธ:** `ะะพะธัะบ ะพะฝะปะฐะนะฝ-ะฟัะธัััััะฒะธั: ะฟะพะปััะตะฝ ะพัะฒะตั`

---

### ะะพะดััะฐะฟ 6.4: ะะฐััะธะฝะณ ะบะพะฝัะฐะบัะพะฒ ั ัะฐะนัะฐ

**ะคะฐะนะป:** `app/services/website_parser.py` โ `parse_contacts()`
**ะัะตะผั:** 1-2 ัะตะบัะฝะดั

**ะงัะพ ะดะตะปะฐะตั:**
1. HTTP GET ะทะฐะฟัะพั ะฝะฐ ัะฐะนั ะบะพะผะฟะฐะฝะธะธ (https://yandex.ru)
2. ะะฐััะธะฝะณ HTML ั ะฟะพะผะพััั BeautifulSoup
3. ะะพะธัะบ ัะตะปะตัะพะฝะพะฒ ัะตะณัะปััะฝัะผะธ ะฒััะฐะถะตะฝะธัะผะธ:
   ```python
   phones = re.findall(r'\+7[\s\-]?\(?\d{3}\)?[\s\-]?\d{3}[\s\-]?\d{2}[\s\-]?\d{2}', text)
   ```
4. ะะพะธัะบ email:
   ```python
   emails = re.findall(r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}', text)
   ```

**ะะตะทัะปััะฐั:**
```python
{
    "phones": ["+74957397000", "+74957397070"],
    "emails": ["pr@yandex.ru", "info@yandex-team.ru"]
}
```

**ะะพะณะธ:** `ะะฐะนะดะตะฝะพ: 2 ัะตะปะตัะพะฝะพะฒ, 2 email`

---

### ะะพะดััะฐะฟ 6.5: ะะพะธัะบ ะบะปััะตะฒัั ะปะธั (ะะะ)

**ะคะฐะนะป:** `app/services/perplexity.py` โ `find_executives()`
**ะัะตะผั:** 4-8 ัะตะบัะฝะด

**ะงัะพ ะดะตะปะฐะตั:**
1. ะะฐะฟัะพั ะบ Perplexity:
   ```
   ะะฐะนะดะธ ะะกะะฅ ะบะปััะตะฒัั ะฟัะฑะปะธัะฝัั ะปะธั ะบะพะผะฟะฐะฝะธะธ "ะฏะฝะดะตะบั":
   - ะะตะฝะตัะฐะปัะฝัะน ะดะธัะตะบัะพั
   - ะะพะผะผะตััะตัะบะธะน ะดะธัะตะบัะพั
   - ะัะฝะพะฒะฐัะตะปะธ
   - PR-ะดะธัะตะบัะพั
   - ะกะฟะธะบะตัะพะฒ ะบะพะผะฟะฐะฝะธะธ
   - ะะฒัะพัะพะฒ ััะฐัะตะน

   ะะปั ะบะฐะถะดะพะณะพ: ะคะะ, ะดะพะปะถะฝะพััั, email, ัะตะปะตัะพะฝ, LinkedIn, TenChat, VK, Telegram
   ```

2. **API ะทะฐะฟัะพั ัะตัะตะท OpenRouter** (model: perplexity/sonar-pro)

3. **ะะตะทัะปััะฐั:**
   ```json
   {
       "executives": [
           {
               "name": "ะัะฑะพะฒัะบะธะน ะะปะตะบัะฐะฝะดั ะะปะตะบัะฐะฝะดัะพะฒะธั",
               "position": "ะะตะฝะตัะฐะปัะฝัะน ะดะธัะตะบัะพั",
               "email": "a.dubovsky@yandex-team.ru",
               "linkedin": "https://linkedin.com/in/...",
               "bio": "ะัะบะพะฒะพะดะธั ะบะพะผะฟะฐะฝะธะตะน ั 2022 ะณะพะดะฐ"
           },
           {
               "name": "ะะฒะฐะฝะพะฒ ะะฒะฐะฝ ะะฒะฐะฝะพะฒะธั",
               "position": "ะะธัะตะบัะพั ะฟะพ ัะฐะทะฒะธัะธั",
               ...
           }
       ]
   }
   ```

**ะะพะณะธ:** `ะะพะธัะบ ะบะปััะตะฒัั ะปะธั ะบะพะผะฟะฐะฝะธะธ: ะฟะพะปััะตะฝ ะพัะฒะตั`

---

### ะะพะดััะฐะฟ 6.6: ะะพะธัะบ ะฑะธะทะฝะตั-ะธะฝัะพัะผะฐัะธะธ

**ะคะฐะนะป:** `app/services/perplexity.py` โ `find_business_info()`
**ะัะตะผั:** 8-20 ัะตะบัะฝะด (ัะฐะผัะน ะดะพะปะณะธะน ะทะฐะฟัะพั)

**ะงัะพ ะดะตะปะฐะตั:**
1. ะะฐะฟัะพั ะบ Perplexity:
   ```
   ะะฐะนะดะธ ะะะะกะะะะะฌะะ ะะะขะะะฌะะฃะฎ ะธะฝัะพัะผะฐัะธั ะพ ะบะพะผะฟะฐะฝะธะธ "ะฏะฝะดะตะบั":

   ะคะะะะะกะซ:
   - ะะพะดะพะฒะพะน ะพะฑะพัะพั (ะฟัะพะฒะตัั: ัะธะฝะพััะตัั, ะธะฝัะตัะฒัั, ะฝะพะฒะพััะธ, ัะตะนัะธะฝะณะธ)
   - ะะพะปะธัะตััะฒะพ ัะพัััะดะฝะธะบะพะฒ
   - ะะธะฝะฐะผะธะบะฐ ัะพััะฐ

   ะะะฏะขะะะฌะะะกะขะฌ:
   - ะัะพะดัะบัั ะธ ััะปัะณะธ
   - ะััะฟะฝะตะนัะธะต ะบะปะธะตะฝัั
   - ะะตะพะณัะฐัะธั

   ะขะะฅะะะะะะะ:
   - ะะฐะบัั CRM ะธัะฟะพะปัะทััั
   - ะะฐะบัั ERP ะธัะฟะพะปัะทััั

   ะะะขะะะะะกะขะฌ:
   - 5-7 ะฟะพัะปะตะดะฝะธั ะฝะพะฒะพััะตะน
   - ะะฐะณัะฐะดั
   - ะะฐััะฝะตัััะฒะฐ
   ```

2. **API ะทะฐะฟัะพั ัะตัะตะท OpenRouter**

3. **ะะตะทัะปััะฐั:**
   ```json
   {
       "finances": {
           "revenue_yearly_rub": "500 ะผะปัะด ััะฑ",
           "revenue_source": "ะะพะดะพะฒะพะน ะพััะตั 2024",
           "employees_count": "18000",
           "company_size": "ะบััะฟะฝัะน"
       },
       "business": {
           "products": ["ะะพะธัะบ", "ะขะฐะบัะธ", "ะะฐัะบะตั", "ะะตะบะปะฐะผะฐ"],
           "target_audience": "B2C/B2B"
       },
       "technologies": {
           "crm": "ัะพะฑััะฒะตะฝะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ",
           "erp": "SAP"
       },
       "activity": {
           "news": [
               {"date": "2025-10", "title": "ะะฐะฟััะบ ะฝะพะฒะพะณะพ ัะตัะฒะธัะฐ", "source_url": "..."}
           ]
       }
   }
   ```

**ะะพะณะธ:** `ะะพะธัะบ ัะธะฝะฐะฝัะพะฒ ะธ ะฑะธะทะฝะตั-ะธะฝัะพัะผะฐัะธะธ: ะฟะพะปััะตะฝ ะพัะฒะตั`

---

### ะะพะดััะฐะฟ 6.7: ะะณัะตะณะฐัะธั ะฒัะตั ะดะฐะฝะฝัั

**ะคะฐะนะป:** `app/services/sales_analyzer.py` (ัััะพะบะฐ ~115)

**ะงัะพ ะฟัะพะธััะพะดะธั:**
ะัะต ัะพะฑัะฐะฝะฝัะต ะดะฐะฝะฝัะต ะพะฑัะตะดะธะฝััััั ะฒ ะพะดะธะฝ ะฑะพะปััะพะน ะพะฑัะตะบั:

```python
aggregated_data = {
    "egrul": {
        # ะะฐะฝะฝัะต ะธะท DaData
        "full_name": "ะะะ ะฏะะะะะก",
        "inn": "7707083893",
        "director": {...}
    },
    "online_presence": {
        # ะะฐะฝะฝัะต ะธะท Perplexity
        "website": "https://yandex.ru",
        "vk": "https://vk.com/yandex"
    },
    "website_contacts": {
        # ะะฐะฝะฝัะต ะธะท ะฟะฐััะตัะฐ
        "phones": ["+74957397000"],
        "emails": ["pr@yandex.ru"]
    },
    "executives": {
        # ะะฐะฝะฝัะต ะธะท Perplexity
        "executives": [...]
    },
    "business_info": {
        # ะะฐะฝะฝัะต ะธะท Perplexity
        "finances": {...},
        "business": {...}
    }
}
```

---

### ะะพะดััะฐะฟ 6.8: ะะตะฝะตัะฐัะธั ะดะพััะต ัะตัะตะท LLM

**ะคะฐะนะป:** `app/services/sales_analyzer.py` โ `_generate_dossier_with_llm()`
**ะัะตะผั:** 20-30 ัะตะบัะฝะด

**ะงัะพ ะฟัะพะธััะพะดะธั:**

1. **ะคะพัะผะธััะตััั ัะธััะตะผะฝัะน ะฟัะพะผะฟั:**
   ```
   ะขั - ัะบัะฟะตัั ะฟะพ B2B ะฟัะพะดะฐะถะฐะผ ั 15-ะปะตัะฝะธะผ ะพะฟััะพะผ.
   ะกะพะทะดะฐะน ะดะพััะต ะบะพะผะฟะฐะฝะธะธ ะดะปั ะผะตะฝะตะดะถะตัะฐ.
   ะะฐั ะฟัะพะดัะบั: CRM ัะธััะตะผะฐ ะดะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ะฟัะพะดะฐะถ

   ะคะพัะผะฐัะธััะน ัััะปะบะธ ะฒ BB-code: [URL=...]...[/URL]
   ```

2. **ะคะพัะผะธััะตััั ะฟัะพะผะฟั ั ะดะฐะฝะฝัะผะธ:**
   ```
   ะกะพะทะดะฐะน ะดะพััะต ะฝะฐ ะพัะฝะพะฒะต ัะพะฑัะฐะฝะฝัั ะดะฐะฝะฝัั:
   {aggregated_data ะฒ JSON}

   ะัะฟะพะปัะทัะน ัะพัะผะฐั:
   ๐ ะะะกะฌะ ะะะะะะะะ
   ๐ข ะะฐะทะฒะฐะฝะธะต
   ๐ ะะะกะจะขะะ ะะะะะะกะ
   ...
   ๐ฏ ะะะะะะะะะะฆะะ ะะ ะะะะะะะ
   ```

3. **API ะทะฐะฟัะพั ะบ OpenRouter:**
   ```python
   POST https://openrouter.ai/api/v1/chat/completions
   {
       "model": "anthropic/claude-3.5-sonnet",
       "messages": [
           {"role": "system", "content": "ะขั ัะบัะฟะตัั..."},
           {"role": "user", "content": "ะกะพะทะดะฐะน ะดะพััะต..."}
       ],
       "max_tokens": 4000
   }
   ```

4. **LLM ะณะตะฝะตัะธััะตั:**
   - ะกัััะบัััะธัะพะฒะฐะฝะฝะพะต ะดะพััะต
   - ะะฝะฐะปะธะท ัะฐะทะผะตัะฐ ะฑะธะทะฝะตัะฐ
   - ะะพะฝะบัะตัะฝัะต ัะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะฟัะพะดะฐะถะฐะผ
   - ะขะฐะบัะธะบั ะฟะพะดัะพะดะฐ
   - ะจะฐะฑะปะพะฝ ะฟะตัะฒะพะณะพ ะฟะธััะผะฐ
   - ะัะตะฝะบั ะฟะพัะตะฝัะธะฐะปะฐ ัะดะตะปะบะธ

**ะะตะทัะปััะฐั:** ะะพะปะฝะพะต ะดะพััะต ะฒ ัะตะบััะพะฒะพะผ ัะพัะผะฐัะต (~2000-3000 ัะธะผะฒะพะปะพะฒ)

**ะะพะณะธ:** `ะะตะฝะตัะฐัะธั ะธัะพะณะพะฒะพะณะพ ะดะพััะต ั ะฟะพะผะพััั LLM`

---

### ะจะฐะณ 7: ะัะฟัะฐะฒะบะฐ ะดะพััะต ะฒ ะะธััะธะบั24

**ะคะฐะนะป:** `app/services/bitrix.py` โ `send_message()`
**ะัะตะผั:** 1-3 ัะตะบัะฝะดั

**ะงัะพ ะฟัะพะธััะพะดะธั:**

1. **ะัะพะฒะตัะบะฐ ะดะปะธะฝั ัะพะพะฑัะตะฝะธั:**
   ```python
   if len(dossier) > 4000:
       parts = split_message(dossier)  # ะะฐะทะฑะธะฒะฐะตะผ ะฝะฐ ัะฐััะธ
   ```

2. **ะะฟัะตะดะตะปะตะฝะธะต ะผะตัะพะดะฐ ะพัะฟัะฐะฒะบะธ:**
   - ะะพัะพัะบะพะต (<200 ัะธะผะฒะพะปะพะฒ) โ GET ะทะฐะฟัะพั
   - ะะปะธะฝะฝะพะต (>200 ัะธะผะฒะพะปะพะฒ) โ POST ะทะฐะฟัะพั

3. **ะัะฟัะฐะฒะบะฐ ัะตัะตะท ะะธััะธะบั24 API:**
   ```python
   POST https://dizlabvl.bitrix24.ru/rest/314/3d5ly3zxp1qforw9/imbot.message.add.json

   data = {
       "BOT_ID": "17302",
       "CLIENT_ID": "gdu4ys9vl8fgps1qrauo8b6xjhtxo5jv",
       "DIALOG_ID": "10",
       "MESSAGE": "๐ ะะะกะฌะ ะะะะะะะะ..."
   }
   ```

4. **ะะธััะธะบั24 ะฒะพะทะฒัะฐัะฐะตั:**
   ```json
   {
       "result": 10324  // ID ะพัะฟัะฐะฒะปะตะฝะฝะพะณะพ ัะพะพะฑัะตะฝะธั
   }
   ```

**ะะพะณะธ:** `ะงะฐััั 1/1 ะพัะฟัะฐะฒะปะตะฝะฐ: message_id=10324`

---

### ะจะฐะณ 8: ะัะฟัะฐะฒะบะฐ ะบะฝะพะฟะพะบ ะพัะตะฝะบะธ

**ะคะฐะนะป:** `app/webhooks/bitrix_handler.py` (ัััะพะบะฐ ~145)
**ะัะตะผั:** 0.5 ัะตะบัะฝะด

**ะงัะพ ะฟัะพะธััะพะดะธั:**

1. **ะกะพะทะดะฐะฝะธะต ะบะปะฐะฒะธะฐัััั:**
   ```python
   keyboard = [
       [{"TEXT": "๐ ะะพะปะตะทะฝะพ", "COMMAND": "positive"}],
       [{"TEXT": "๐ ะะต ะฟะพะปะตะทะฝะพ", "COMMAND": "negative"}],
       [{"TEXT": "๐ฌ ะััะฐะฒะธัั ะพัะทัะฒ", "COMMAND": "feedback"}]
   ]
   ```

2. **ะัะฟัะฐะฒะบะฐ ะพัะดะตะปัะฝัะผ ัะพะพะฑัะตะฝะธะตะผ:**
   ```python
   bitrix_service.send_message(
       dialog_id,
       "ะัะตะฝะธัะต ะฟะพะปะตะทะฝะพััั ะดะพััะต:",
       keyboard=keyboard
   )
   ```

3. **ะกัะฐััั:** ๐ ะ ัะฐะทัะฐะฑะพัะบะต (ะฟะพะบะฐ 400 ะพัะธะฑะบะฐ ะพั ะะธััะธะบั24)

---

### ะจะฐะณ 9: ะะพะปัะทะพะฒะฐัะตะปั ะฟะพะปััะฐะตั ัะตะทัะปััะฐั

**ะะตััะพะฟะพะปะพะถะตะฝะธะต:** ะงะฐั ะฒ ะะธััะธะบั24

**ะงัะพ ะฒะธะดะธั ะฟะพะปัะทะพะฒะฐัะตะปั:**

1. **ะะพะผะตะฝัะฐะปัะฝะพ (0.2 ัะตะบ):**
   ```
   โ ะะฐะฟัะพั ะฟะพะปััะตะฝ! ะคะพัะผะธััั ะดะตัะฐะปัะฝะพะต ะดะพััะต ะบะพะผะฟะฐะฝะธะธ.
   โฑ๏ธ ะญัะพ ะทะฐะนะผะตั 1-3 ะผะธะฝััั, ะฒะตัะฝััั ั ัะตะทัะปััะฐัะฐะผะธ...
   ```

2. **ะงะตัะตะท 40-90 ัะตะบัะฝะด:**
   ```
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   ๐ ะะะกะฌะ ะะะะะะะะ

   ๐ข ะะะ ะฏะะะะะก
   ๐ ะณ ะะพัะบะฒะฐ, ัะป ะัะฒะฐ ะขะพะปััะพะณะพ, ะด 16
   ๐ค ะะธัะตะบัะพั: ะัะฑะพะฒัะบะธะน ะะปะตะบัะฐะฝะดั ะะปะตะบัะฐะฝะดัะพะฒะธั
   โ ะกัะฐััั: ะะตะนััะฒัััะฐั ั 2000 ะณ.

   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

   ๐ ะะะกะจะขะะ ะะะะะะกะ
   ๐ฐ ะะฑะพัะพั: ~500 ะผะปัะด ััะฑ/ะณะพะด
   ๐ฅ ะกะพัััะดะฝะธะบะพะฒ: ~18,000
   ๐ ะะธะฝะฐะผะธะบะฐ: ะกัะฐะฑะธะปัะฝัะน ัะพัั
   ๐ ะะฐัะตะณะพัะธั: ะััะฟะฝัะน ะฑะธะทะฝะตั

   ... (ะตัะต 6 ัะฐะทะดะตะปะพะฒ)

   ๐ฏ ะะะะะะะะะะฆะะ ะะ ะะะะะะะ
   ๐ก ะขะะะขะะะ ะะะะฅะะะ: ...
   ๐ช ะขะะงะะ ะะฅะะะ: ...
   ```

3. **ะะฝะพะฟะบะธ ะพัะตะฝะบะธ** (ะฒ ัะฐะทัะฐะฑะพัะบะต)

---

## ๐ ะกะะะกะะ 2: Webhook ะธะท ะฐะฒัะพะผะฐัะธะทะฐัะธะธ

### ะจะฐะณ 1: ะขัะธะณะณะตั ะฒ ะะธััะธะบั24

**ะัะธะผะตั:** ะกะดะตะปะบะฐ ัะพะทะดะฐะฝะฐ / ะะพะฝัะฐะบั ะดะพะฑะฐะฒะปะตะฝ / ะกัะฐััั ะธะทะผะตะฝะตะฝ

**ะะตััะพะฟะพะปะพะถะตะฝะธะต:** CRM โ ะะฒัะพะผะฐัะธะทะฐัะธั โ ะะพะฑะพั "Webhook"

### ะจะฐะณ 2: ะะธััะธะบั24 ะฒัะทัะฒะฐะตั webhook

**URL:**
```
http://aistudy.dev.o2it.ru:8100/webhook/research?companyName={{=Document:TITLE}}&inn={{=Document:UF_CRM_INN}}&userId={{=Document:ASSIGNED_BY_ID}}
```

**ะะตัะพะด:** GET
**ะะฐัะฐะผะตััั ะฒ URL:**
- `companyName=ะฏะฝะดะตะบั`
- `inn=7707083893`
- `userId=314`
- `dealTitle=ะะฝะตะดัะตะฝะธะต CRM` (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- `companyWebsite=yandex.ru` (ะพะฟัะธะพะฝะฐะปัะฝะพ)

**ะคะฐะนะป ะพะฑัะฐะฑะพัะบะธ:** `app/main.py` โ `webhook_research_company()`

### ะจะฐะณ 3: ะะฑัะฐะฑะพัะบะฐ webhook

**ะงัะพ ะฟัะพะธััะพะดะธั:**

1. **ะะฐะปะธะดะฐัะธั ะฟะฐัะฐะผะตััะพะฒ:**
   ```python
   if not userId:
       return {"status": "error"}

   if not (companyName or inn or dealTitle):
       return {"status": "error"}
   ```

2. **ะะพะผะตะฝัะฐะปัะฝัะน ะพัะฒะตั ะะธััะธะบั24:**
   ```json
   {
       "status": "ok",
       "message": "ะััะปะตะดะพะฒะฐะฝะธะต ะบะพะผะฟะฐะฝะธะธ 'ะฏะฝะดะตะบั' ะทะฐะฟััะตะฝะพ"
   }
   ```

3. **ะะฐะฟััะบ ัะพะฝะพะฒะพะน ะทะฐะดะฐัะธ:**
   ```python
   background_tasks.add_task(
       handle_direct_research_request,
       company_name=companyName,
       inn=inn,
       user_id=userId
   )
   ```

### ะจะฐะณ 4-9: ะะฝะฐะปะพะณะธัะฝะพ ัะฟะพัะพะฑั 1

ะะฐะปะตะต ะฟัะพัะตัั ะธะดะตะฝัะธัะตะฝ ัะฐั-ะฑะพัั:
- ะัะฑะธะฒะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปั
- ะกะฑะพั ะดะฐะฝะฝัั (Perplexity + DaData)
- ะะตะฝะตัะฐัะธั ะดะพััะต (LLM)
- ะัะฟัะฐะฒะบะฐ ัะตะทัะปััะฐัะฐ

---

## ๐ ะัะตะผะตะฝะฝะฐั ะดะธะฐะณัะฐะผะผะฐ ะฟัะพัะตััะฐ:

```
0s    - ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ะทะฐะฟัะพั
0.2s  - โ ะััััะฐั ะพัะฑะธะฒะบะฐ ะพัะฟัะฐะฒะปะตะฝะฐ
0.2s  - ะะฐัะฐะปะพ ัะฑะพัะฐ ะดะฐะฝะฝัั

      [ะะฐัะฐะปะปะตะปัะฝัะน ัะฑะพั]
3s    - Perplexity: ะฟะพะธัะบ ะบะพะผะฟะฐะฝะธะธ + ะะะ โ
3.5s  - DaData: ะะะะฎะ ะดะฐะฝะฝัะต โ
7s    - Perplexity: ะพะฝะปะฐะนะฝ-ะฟัะธัััััะฒะธะต โ
9s    - Website Parser: ะบะพะฝัะฐะบัั ั ัะฐะนัะฐ โ
15s   - Perplexity: ะบะปััะตะฒัะต ะปะธัะฐ โ
35s   - Perplexity: ะฑะธะทะฝะตั-ะธะฝัะพัะผะฐัะธั โ

35s   - ะะฐัะฐะปะพ ะณะตะฝะตัะฐัะธะธ ะดะพััะต
65s   - LLM: ะดะพััะต ััะพัะผะธัะพะฒะฐะฝะพ โ

65s   - ะะฐัะฐะปะพ ะพัะฟัะฐะฒะบะธ
68s   - โ ะะพััะต ะพัะฟัะฐะฒะปะตะฝะพ ะฟะพะปัะทะพะฒะฐัะตะปั

ะะขะะะ: 60-90 ัะตะบัะฝะด ะพั ะทะฐะฟัะพัะฐ ะดะพ ัะตะทัะปััะฐัะฐ
```

---

## ๐ง ะััะธัะตะบัััะฐ ะบะพะผะฟะพะฝะตะฝัะพะฒ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ะะะขะะะะก24 (dizlabvl)                   โ
โ  ะะพะปัะทะพะฒะฐัะตะปั ะฟะธัะตั ะฑะพัั ะธะปะธ ััะฐะฑะฐััะฒะฐะตั ัะพะฑะพั      โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
                 โ POST/GET request
                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         SALES SCOUT (aistudy.dev.o2it.ru:8100)      โ
โ                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ         โ
โ  โ  FastAPI App (app/main.py)             โ         โ
โ  โ  - /webhook/bitrix (ัะฐั-ะฑะพั)           โ         โ
โ  โ  - /webhook/research (ะฐะฒัะพะผะฐัะธะทะฐัะธั)   โ         โ
โ  โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโ         โ
โ               โ                                      โ
โ               โ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ         โ
โ  โ  Webhook Handler                       โ         โ
โ  โ  (app/webhooks/bitrix_handler.py)      โ         โ
โ  โ  - ะััััะฐั ะพัะฑะธะฒะบะฐ โ ะะธััะธะบั24         โ         โ
โ  โ  - ะะฐะฟััะบ ัะฑะพัะฐ ะดะฐะฝะฝัั                 โ         โ
โ  โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโ         โ
โ               โ                                      โ
โ               โ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ         โ
โ  โ  Sales Analyzer                        โ         โ
โ  โ  (app/services/sales_analyzer.py)      โ         โ
โ  โ  - ะัะบะตัััะฐัะธั ัะฑะพัะฐ ะดะฐะฝะฝัั            โ         โ
โ  โ  - ะะตะฝะตัะฐัะธั ะดะพััะต                     โ         โ
โ  โโโโโโฌโโโโโโโฌโโโโโโโฌโโโโโโโฌโโโโโโโโโโโโโโโ         โ
โ       โ      โ      โ      โ                         โ
โ       โ      โ      โ      โ                         โ
โ  โโโโโโโโโโ โโโโโโโโโ โโโโโโโโ โโโโโโโโโโ          โ
โ  โPerplexiโโDaData โ โParserโ โLangChaiโ          โ
โ  โty API  โโAPI    โ โ      โ โn+LLM   โ          โ
โ  โโโโโโฌโโโโ โโโโโฌโโโโ โโโโฌโโโโ โโโโโโฌโโโโ          โ
โ       โ         โ        โ          โ               โ
โโโโโโโโโผโโโโโโโโโโผโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโโโโโโ
        โ         โ        โ          โ
        โ         โ        โ          โ
โโโโโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ
โPerplexity  โ โDaData   โ โCompany   โ โOpenRouterโ
โAPI         โ โAPI      โ โWebsite   โ โAPI       โ
โ(OpenRouter)โ โ         โ โ          โ โ(Claude)  โ
โโโโโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ
```

---

## ๐ ะะพัะพะบ ะดะฐะฝะฝัั:

```
ะะฅะะ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะฐะทะฒะฐะฝะธะต ะบะพะผะฟะฐะฝะธะธ: "ะฏะฝะดะตะบั"      โ
โ ะธะปะธ ะะะ: "7707083893"            โ
โ User ID: "314"                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะญะขะะ 1: ะะพะธัะบ ัะตัะตะท Perplexity   โ
โ ะะฐัะพะดะธั: ะะะ, ะบัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต   โ
โ ะัะตะผั: 3-7 ัะตะบ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะญะขะะ 2: ะะฑะพะณะฐัะตะฝะธะต ัะตัะตะท DaData  โ
โ ะะพะฑะฐะฒะปัะตั: ะะะะฎะ ะดะฐะฝะฝัะต          โ
โ ะัะตะผั: 0.1-0.5 ัะตะบ               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะญะขะะ 3: ะกะฑะพั ะพะฝะปะฐะนะฝ-ะดะฐะฝะฝัั       โ
โ Perplexity โ ัะฐะนั, ัะพััะตัะธ       โ
โ Parser โ ะบะพะฝัะฐะบัั ั ัะฐะนัะฐ        โ
โ ะัะตะผั: 4-7 ัะตะบ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะญะขะะ 4: ะะพะธัะบ ะะะ                โ
โ Perplexity โ 3-10 ะบะปััะตะฒัั ะปะธั   โ
โ ะก ะบะพะฝัะฐะบัะฐะผะธ ะธ ะฟัะพัะธะปัะผะธ         โ
โ ะัะตะผั: 4-8 ัะตะบ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะญะขะะ 5: ะะธะทะฝะตั-ะธะฝัะพัะผะฐัะธั        โ
โ Perplexity โ ะพะฑะพัะพั, ะฝะพะฒะพััะธ     โ
โ ะะตัะฐะปัะฝัะน ะฟะพะธัะบ ัะธะฝะฐะฝัะพะฒ         โ
โ ะัะตะผั: 8-20 ัะตะบ                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะญะขะะ 6: ะะตะฝะตัะฐัะธั ะดะพััะต          โ
โ LLM (Claude) ะฐะฝะฐะปะธะทะธััะตั ะฒัะต     โ
โ ะกะพะทะดะฐะตั ััััะบัััะธัะพะฒะฐะฝะฝะพะต ะดะพััะต  โ
โ ะัะตะผั: 20-30 ัะตะบ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะญะขะะ 7: ะัะฟัะฐะฒะบะฐ ัะตะทัะปััะฐัะฐ      โ
โ ะะธััะธะบั24 API โ ัะพะพะฑัะตะฝะธะต ะฒ ัะฐั  โ
โ ะก ะบะปะธะบะฐะฑะตะปัะฝัะผะธ ัััะปะบะฐะผะธ         โ
โ ะัะตะผั: 1-3 ัะตะบ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
ะะซะฅะะ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะพะปัะทะพะฒะฐัะตะปั ะฟะพะปััะธะป ะฟะพะปะฝะพะต      โ
โ ะดะพััะต ะบะพะผะฟะฐะฝะธะธ ั ัะตะบะพะผะตะฝะดะฐัะธัะผะธ  โ
โ ะะขะะะ: 40-90 ัะตะบัะฝะด              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐พ ะคะฐะนะปะพะฒะฐั ััััะบัััะฐ ะพะฑัะฐะฑะพัะบะธ:

```
1. ะัะพะดะฝะฐั ัะพัะบะฐ (main.py):
   /webhook/bitrix        โ ัะฐั-ะฑะพั
   /webhook/research      โ ะฐะฒัะพะผะฐัะธะทะฐัะธั

2. ะะฑัะฐะฑะพััะธะบ (bitrix_handler.py):
   handle_bitrix_message()           โ ะธะท ัะฐัะฐ
   handle_direct_research_request()  โ ะธะท ะฒะตะฑััะบะฐ

3. ะกะฑะพััะธะบ ะดะฐะฝะฝัั (sales_analyzer.py):
   create_company_dossier()          โ ะพัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ

4. ะััะพัะฝะธะบะธ ะดะฐะฝะฝัั:
   perplexity.py     โ 4 ัะธะฟะฐ ะทะฐะฟัะพัะพะฒ (ะบะพะผะฟะฐะฝะธั, ะะะ, ะพะฝะปะฐะนะฝ, ะฑะธะทะฝะตั)
   dadata.py         โ ะะะะฎะ ะดะฐะฝะฝัะต
   website_parser.py โ ะบะพะฝัะฐะบัั ั ัะฐะนัะฐ

5. ะัะฟัะฐะฒะบะฐ (bitrix.py):
   send_message()    โ ะฒ ะะธััะธะบั24
   create_keyboard() โ ะบะฝะพะฟะบะธ ะพัะตะฝะบะธ
```

---

## ๐ ะะพะณะธัะพะฒะฐะฝะธะต ะฟัะพัะตััะฐ:

ะัะต ััะฐะฟั ะปะพะณะธัััััั ะฒ `/opt/sales-scout/sales_scout.log`:

```
INFO - ะะพะปััะตะฝ webhook ะพั ะะธััะธะบั24
INFO - ะะพะปััะตะฝะพ ัะพะพะฑัะตะฝะธะต: ะฏะฝะดะตะบั
INFO - ะัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธั: โ ะะฐะฟัะพั ะฟะพะปััะตะฝ...
INFO - ะะฐัะฐะปะพ ัะพะทะดะฐะฝะธั ะดะพััะต ะดะปั: ะฏะฝะดะตะบั
INFO - ะจะฐะณ 1/5: ะะพะธัะบ ะบะพะผะฟะฐะฝะธะธ (Perplexity)
INFO - Perplexity ะฝะฐัะตะป: ะฏะฝะดะตะบั, ะะะ: 7707083893
INFO - ะจะฐะณ 2/5: ะะฑะพะณะฐัะตะฝะธะต (DaData)
INFO - DaData ะฟะพะดัะฒะตัะดะธะป: ะะะ ะฏะะะะะก
INFO - ะจะฐะณ 3/5: ะะพะธัะบ ัะฐะนัะฐ (Perplexity)
INFO - ะจะฐะณ 4/5: ะะฐััะธะฝะณ ะบะพะฝัะฐะบัะพะฒ
INFO - ะะฐะนะดะตะฝะพ: 2 ัะตะปะตัะพะฝะพะฒ, 2 email
INFO - ะจะฐะณ 5/5: ะะพะธัะบ ะะะ ะธ ะฑะธะทะฝะตั-ะธะฝัะพัะผะฐัะธะธ
INFO - ะะตะฝะตัะฐัะธั ะดะพััะต ั ะฟะพะผะพััั LLM
INFO - ะะพััะต ััะพัะผะธัะพะฒะฐะฝะพ
INFO - ะัะฟัะฐะฒะบะฐ ะฒ ะะธััะธะบั24
INFO - ะกะพะพะฑัะตะฝะธะต ะพัะฟัะฐะฒะปะตะฝะพ: message_id=10324
INFO - ะะพััะต ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝะพ
```

---

## ๐ฏ ะัะพะณะพ: ะะพะปะฝะฐั ัะตะฟะพัะบะฐ

1. **ะัะพะด:** ะะพะปัะทะพะฒะฐัะตะปั โ ะะธััะธะบั24
2. **Webhook:** ะะธััะธะบั24 โ Sales Scout
3. **ะัะฑะธะฒะบะฐ:** Sales Scout โ ะะธััะธะบั24 (0.2 ัะตะบ)
4. **ะกะฑะพั ะดะฐะฝะฝัั:** 5 ะฟะฐัะฐะปะปะตะปัะฝัั ะทะฐะฟัะพัะพะฒ (40-60 ัะตะบ)
5. **ะะฝะฐะปะธะท:** LLM ะณะตะฝะตัะธััะตั ะดะพััะต (20-30 ัะตะบ)
6. **ะะตะทัะปััะฐั:** ะะพััะต โ ะะธััะธะบั24 โ ะะพะปัะทะพะฒะฐัะตะปั
7. **ะะขะะะ:** 60-90 ัะตะบัะฝะด ะพั ะทะฐะฟัะพัะฐ ะดะพ ะฟะพะปะฝะพะณะพ ะดะพััะต

---

**ะขะตะฟะตัั ะฑะพั ัะฐะฑะพัะฐะตั ะฝะฐ dizlabvl.bitrix24.ru!** ๐

**Webhook URL ะดะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะน:**
```
http://aistudy.dev.o2it.ru:8100/webhook/research?companyName={{=Document:TITLE}}&inn={{=Document:UF_CRM_INN}}&dealTitle={{=Document:DEAL_TITLE}}&userId={{=Document:ASSIGNED_BY_ID}}
```
